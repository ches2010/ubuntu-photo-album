<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>相册浏览</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <!-- 引入外部样式表 -->
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="gallery-container">
        <div class="gallery-header">
            <h1>相册浏览</h1>
            <div class="header-controls">
                <!-- 主题选择器 -->
                <div class="theme-selector">
                    <label for="themeSelect" class="me-2">主题:</label>
                    <select id="themeSelect" class="form-select form-select-sm">
                        <option value="light">浅色模式</option>
                        <option value="dark">深色模式</option>
                        <option value="sepia">复古模式</option>
                    </select>
                </div>
                
                <div class="per-page-selector ms-3">
                    <span>每页显示:</span>
                    <select id="perPage" class="form-select form-select-sm ms-2">
                        <option value="40">40张</option>
                        <option value="80">80张</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div id="imageGrid" class="image-grid">
            <!-- 图片将通过JavaScript动态加载 -->
            <div class="text-center" id="loadingIndicator">
                <i class="fa fa-spinner fa-spin fa-3x"></i>
                <p>加载图片中...</p>
            </div>
        </div>
        
        <div class="pagination">
            <button class="btn btn-secondary pagination-btn" id="prevPage" disabled>上一页</button>
            <span class="page-info" id="pageInfo">第 1 页 / 共 1 页</span>
            
            <!-- 页码跳转控件 -->
            <div class="page-jump">
                <input type="number" id="pageJumpInput" class="form-control page-input" min="1" placeholder="页码">
                <button class="btn btn-primary" id="jumpToPageBtn">跳转</button>
            </div>
            
            <button class="btn btn-secondary pagination-btn" id="nextPage">下一页</button>
        </div>
    </div>
    
    <!-- 图片查看模态框 -->
    <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-body">
                    <button class="navigation-btn prev-image-btn" id="prevImageBtn">
                        <i class="fa fa-chevron-left"></i>
                    </button>
                    
                    <div class="modal-image-container" id="imageContainer">
                        <img src="" alt="图片预览" class="modal-image" id="modalImage">
                    </div>
                    
                    <button class="navigation-btn next-image-btn" id="nextImageBtn">
                        <i class="fa fa-chevron-right"></i>
                    </button>
                </div>
                <div class="modal-footer">
                    <div>
                        <h5 id="modalFilename"></h5>
                        <p id="modalInfo"></p>
                        <div class="keyboard-shortcuts">
                            <p>键盘快捷键: ← 上一张 | → 下一张 | + 放大 | - 缩小 | 0 重置 | R 旋转 | F 翻转 | Del 删除</p>
                        </div>
                    </div>
                    <div>
                        <div class="image-controls">
                            <button class="btn btn-secondary control-btn" id="zoomIn" title="放大 (快捷键 +)">
                                <i class="fa fa-search-plus"></i>
                            </button>
                            <button class="btn btn-secondary control-btn" id="zoomOut" title="缩小 (快捷键 -)">
                                <i class="fa fa-search-minus"></i>
                            </button>
                            <button class="btn btn-secondary control-btn" id="resetView" title="重置视图 (快捷键 0)">
                                <i class="fa fa-refresh"></i>
                            </button>
                            <button class="btn btn-secondary control-btn" id="rotateImage" title="旋转 (快捷键 R)">
                                <i class="fa fa-rotate-right"></i>
                            </button>
                            <button class="btn btn-secondary control-btn" id="flipImage" title="翻转 (快捷键 F)">
                                <i class="fa fa-arrows-h"></i>
                            </button>
                        </div>
                        
                        <div class="move-image-container">
                            <select id="targetFolder" class="form-select move-image-select">
                                <option value="">移动到文件夹...</option>
                                <!-- 文件夹选项将通过JavaScript动态加载 -->
                            </select>
                            <button class="btn btn-primary" id="moveImageBtn">移动图片</button>
                        </div>
                        
                        <div class="image-controls" style="margin-top: 15px;">
                            <button type="button" class="btn btn-secondary" id="closeModal">关闭</button>
                            <button type="button" class="btn btn-danger" id="deleteImage">删除图片</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 设置按钮 -->
    <a href="/settings" class="btn btn-primary settings-link">
        <i class="fa fa-cog"></i> 设置
    </a>
    
    <!-- 通知组件 -->
    <div id="notification" class="notification"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 引入外部脚本 -->
    <script src="/js/gallery.js"></script>
</body>
</html>
